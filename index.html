<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peasy Kjøpekontrakt for bil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" fill="none"><path d="M10 90 L90 10" stroke="#FFC107" stroke-width="2" opacity="0.1"/></svg>');
      background-repeat: repeat;
    }
    .header {
      background-color: #fff;
      border-bottom: 2px solid #0B3D2E;
      padding: 20px;
      text-align: center;
    }
    .header img {
      max-width: 150px;
    }
    .payoff {
      color: #0B3D2E;
      font-size: 1.25rem;
      font-weight: bold;
      margin-top: 8px;
    }
    .footer {
      background-color: #0B3D2E;
      color: #fff;
      padding: 15px;
      text-align: center;
      margin-top: 20px;
      font-size: 12px;
    }
    .footer a {
      color: #FFC107;
      text-decoration: underline;
    }
    button {
      background-color: #0B3D2E !important;
      color: #fff !important;
    }
    button:hover {
      background-color: #FFC107 !important;
      color: #0B3D2E !important;
    }
    #contract-preview {
      max-width: 800px;
      margin: 0 auto;
      padding: 10px;
      background-color: #fff;
      font-size: 10px;
      line-height: 1.4;
      color: #333;
    }
    #contract-preview h2 {
      font-size: 14px;
      font-weight: bold;
      color: #0B3D2E;
      text-align: center;
      margin-bottom: 8px;
    }
    #contract-preview h3 {
      font-size: 12px;
      font-weight: bold;
      color: #0B3D2E;
      margin-top: 12px;
      margin-bottom: 4px;
    }
    #contract-preview .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
    }
    #contract-preview .grid div {
      display: flex;
      flex-direction: column;
    }
    #contract-preview .grid label {
      font-weight: bold;
      color: #0B3D2E;
    }
    #contract-preview .grid span {
      color: #333;
    }
    #contract-preview .fine-print {
      margin-top: 12px;
      border-top: 1px solid #0B3D2E;
      padding-top: 8px;
      text-align: center;
      font-size: 9px;
      color: #333;
    }
    #contract-preview .fine-print a {
      color: #FFC107;
    }
    #contract-preview .signature {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
  </style>
</head>
<body>
  <!-- Header with Peasy Branding -->
  <div class="header">
    <img src="Peasy_Logo_ORG.png" alt="Peasy Logo" onerror="this.style.display='none';">
    <p class="payoff"></p>
  </div>

  <div class="container mx-auto p-6">
    <h1 class="text-2xl font-bold text-center mb-6 text-[#0B3D2E]">Peasy Kjøpekontrakt for kjøretøy</h1>

    <!-- Skjema for å fylle inn opplysninger -->
    <form id="contract-form" class="bg-white p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-xl font-semibold mb-4 text-[#0B3D2E]">Fyll inn opplysninger</h2>
      
      <h3 class="text-lg font-medium mt-4">Selger (privatperson)</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Navn</label>
          <input type="text" id="selger-navn" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Adresse</label>
          <input type="text" id="selger-adresse" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Telefon</label>
          <input type="text" id="selger-telefon" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">E-post</label>
          <input type="email" id="selger-epost" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
      </div>

      <h3 class="text-lg font-medium mt-4">Kjøper (forhandler)</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Firmanavn</label>
          <input type="text" id="kjoper-firmanavn" value="Peasy (Autoringen AS)" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Organisasjonsnummer</label>
          <input type="text" id="kjoper-orgnr" value="987 327 359" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Adresse</label>
          <input type="text" id="kjoper-adresse" value="Strandveien 17, 1366 Lysaker" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Telefon</label>
          <input type="text" id="kjoper-telefon" value="24 20 19 00" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">E-post</label>
          <input type="email" id="kjoper-epost" value="post@peasy.no" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
      </div>

      <h3 class="text-lg font-medium mt-4">Kjøretøyets opplysninger</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Merke</label>
          <input type="text" id="bil-merke" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Modell</label>
          <input type="text" id="bil-modell" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Årsmodell</label>
          <input type="number" id="bil-arsmodell" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Registreringsnummer</label>
          <input type="text" id="bil-regnr" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">VIN-nummer</label>
          <input type="text" id="bil-vinnr" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Kilometerstand</label>
          <input type="number" id="bil-kilometer" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Farge</label>
          <input type="text" id="bil-farge" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Sist godkjent EU-kontroll</label>
          <input type="date" id="bil-eukontroll" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
      </div>

      <h3 class="text-lg font-medium mt-4">Kjøpesum og betalingsvilkår</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Kjøpesum (NOK)</label>
          <input type="number" id="kjopesum" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Betalingsmåte</label>
          <input type="text" id="betalingsmate" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Betalingsdato</label>
          <input type="date" id="betalingsdato" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Dato for NAF/Viking-test</label>
          <input type="date" id="test-dato" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
      </div>

      <button type="button" onclick="generateContract()" class="mt-6 px-4 py-2 rounded-md">Generer kontrakt</button>
    </form>

    <!-- Forhåndsvisning av kontrakten (PDF layout) -->
    <div id="contract-preview" class="hidden">
      <div style="text-align: center; margin-bottom: 8px;">
        <img src="Peasy_Logo_ORG.png" alt="Peasy Logo" style="max-width: 120px; display: block; margin: 0 auto;" onerror="this.style.display='none'; this.nextSibling.style.display='block';">
        <p style="display: none; font-size: 14px; font-weight: bold; color: #0B3D2E;">Peasy</p>
        <p style="font-size: 12px; font-weight: bold; color: #0B3D2E;"></p>
      </div>
      <h2>KJØPEKONTRAKT FOR KJØRETØY</h2>

      <h3>Selger (privatperson)</h3>
      <div class="grid">
        <div>
          <label>Navn</label>
          <span id="preview-selger-navn"></span>
        </div>
        <div>
          <label>Adresse</label>
          <span id="preview-selger-adresse"></span>
        </div>
        <div>
          <label>Telefon</label>
          <span id="preview-selger-telefon"></span>
        </div>
        <div>
          <label>E-post</label>
          <span id="preview-selger-epost"></span>
        </div>
      </div>

      <h3>Kjøper (forhandler)</h3>
      <div class="grid">
        <div>
          <label>Firmanavn</label>
          <span id="preview-kjoper-firmanavn"></span>
        </div>
        <div>
          <label>Organisasjonsnummer</label>
          <span id="preview-kjoper-orgnr"></span>
        </div>
        <div>
          <label>Adresse</label>
          <span id="preview-kjoper-adresse"></span>
        </div>
        <div>
          <label>Telefon</label>
          <span id="preview-kjoper-telefon"></span>
        </div>
        <div>
          <label>E-post</label>
          <span id="preview-kjoper-epost"></span>
        </div>
      </div>

      <h3>Kjøretøyets opplysninger</h3>
      <div class="grid">
        <div>
          <label>Merke</label>
          <span id="preview-bil-merke"></span>
        </div>
        <div>
          <label>Modell</label>
          <span id="preview-bil-modell"></span>
        </div>
        <div>
          <label>Årsmodell</label>
          <span id="preview-bil-arsmodell"></span>
        </div>
        <div>
          <label>Registreringsnummer</label>
          <span id="preview-bil-regnr"></span>
        </div>
        <div>
          <label>VIN-nummer</label>
          <span id="preview-bil-vinnr"></span>
        </div>
        <div>
          <label>Kilometerstand</label>
          <span id="preview-bil-kilometer"></span>
        </div>
        <div>
          <label>Farge</label>
          <span id="preview-bil-farge"></span>
        </div>
        <div>
          <label>Sist godkjent EU-kontroll</label>
          <span id="preview-bil-eukontroll"></span>
        </div>
      </div>

      <h3>Kjøpesum og betalingsvilkår</h3>
      <div class="grid">
        <div>
          <label>Kjøpesum (NOK)</label>
          <span id="preview-kjopesum"></span>
        </div>
        <div>
          <label>Betalingsmåte</label>
          <span id="preview-betalingsmate"></span>
        </div>
        <div>
          <label>Betalingsdato</label>
          <span id="preview-betalingsdato"></span>
        </div>
        <div>
          <label>Dato for NAF/Viking-test</label>
          <span id="preview-test-dato"></span>
        </div>
      </div>

      <div class="signature">
        <p><strong>Sted og dato:</strong> ______________________</p>
        <p><strong>Selgers signatur:</strong> ______________________</p>
        <p><strong>Kjøpers signatur:</strong> ______________________</p>
      </div>

      <div class="fine-print">
        <p>Peasy (Autoringen AS) | Organisasjonsnummer: 987 327 359</p>
        <p>Strandveien 17, 1366 Lysaker</p>
        <p>Telefon: 24 20 19 00 | E-post: <a href="mailto:post@peasy.no">post@peasy.no</a></p>
        <p><a href="https://www.peasy.no">www.peasy.no</a></p>
        <p>Kjøper aksepterer kjøretøyets tilstand basert på NAF/Viking-test og fraskriver seg retten til å fremme krav mot selger etter oppgjør. Selger garanterer at kjøretøyet er fri for heftelser. Avtalen reguleres av kjøpsloven.</p>
      </div>

      <button onclick="downloadPDF()" class="mt-6 px-4 py-2 rounded-md">Last ned som PDF</button>
    </div>
  </div>

  <!-- Footer with Peasy Company Information -->
  <div class="footer">
    <p>Peasy (Autoringen AS) | Organisasjonsnummer: 987 327 359</p>
    <p>Strandveien 17, 1366 Lysaker</p>
    <p>Telefon: 24 20 19 00 | E-post: <a href="mailto:post@peasy.no">post@peasy.no</a></p>
    <p><a href="https://www.peasy.no">www.peasy.no</a></p>
  </div>

  <script>
    function generateContract() {
      // Hent verdier fra skjemaet
      document.getElementById('preview-selger-navn').textContent = document.getElementById('selger-navn').value || '________________';
      document.getElementById('preview-selger-adresse').textContent = document.getElementById('selger-adresse').value || '________________';
      document.getElementById('preview-selger-telefon').textContent = document.getElementById('selger-telefon').value || '________________';
      document.getElementById('preview-selger-epost').textContent = document.getElementById('selger-epost').value || '________________';
      document.getElementById('preview-kjoper-firmanavn').textContent = document.getElementById('kjoper-firmanavn').value;
      document.getElementById('preview-kjoper-orgnr').textContent = document.getElementById('kjoper-orgnr').value;
      document.getElementById('preview-kjoper-adresse').textContent = document.getElementById('kjoper-adresse').value;
      document.getElementById('preview-kjoper-telefon').textContent = document.getElementById('kjoper-telefon').value;
      document.getElementById('preview-kjoper-epost').textContent = document.getElementById('kjoper-epost').value;
      document.getElementById('preview-bil-merke').textContent = document.getElementById('bil-merke').value || '________________';
      document.getElementById('preview-bil-modell').textContent = document.getElementById('bil-modell').value || '________________';
      document.getElementById('preview-bil-arsmodell').textContent = document.getElementById('bil-arsmodell').value || '________________';
      document.getElementById('preview-bil-regnr').textContent = document.getElementById('bil-regnr').value || '________________';
      document.getElementById('preview-bil-vinnr').textContent = document.getElementById('bil-vinnr').value || '________________';
      document.getElementById('preview-bil-kilometer').textContent = document.getElementById('bil-kilometer').value || '________________';
      document.getElementById('preview-bil-farge').textContent = document.getElementById('bil-farge').value || '________________';
      document.getElementById('preview-bil-eukontroll').textContent = document.getElementById('bil-eukontroll').value || '________________';
      document.getElementById('preview-kjopesum').textContent = document.getElementById('kjopesum').value || '________________';
      document.getElementById('preview-betalingsmate').textContent = document.getElementById('betalingsmate').value || '________________';
      document.getElementById('preview-betalingsdato').textContent = document.getElementById('betalingsdato').value || '________________';
      document.getElementById('preview-test-dato').textContent = document.getElementById('test-dato').value || '________________';

      // Vis kontrakten
      document.getElementById('contract-preview').classList.remove('hidden');
    }

    function downloadPDF() {
      return new Promise((resolve) => {
        const element = document.getElementById('contract-preview');
        const opt = {
          margin: 0.3,
          filename: 'peasy_kjopekontrakt.pdf',
          image: { type: 'jpeg', quality: 0.98 },
          html2canvas: { scale: 2, useCORS: true },
          jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
        };
        // Force re-render
        element.style.display = 'block';
        setTimeout(() => {
          html2pdf().set(opt).from(element).save().then(resolve);
        }, 1000);
      });
    }
  </script>
</body>
</html>
