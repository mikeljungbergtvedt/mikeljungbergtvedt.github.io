<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peasy Kjøpekontrakt for bil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #fff;
    }
    .header {
      border-bottom: 1px solid #000;
      padding: 10px 20px;
      text-align: center;
    }
    .header img {
      max-width: 120px;
      margin-bottom: 8px;
    }
    .header h1 {
      font-size: 18px;
      font-weight: bold;
      color: #000;
      margin: 0;
    }
    .footer {
      background-color: #fff;
      border-top: 1px solid #000;
      padding: 15px;
      text-align: center;
      margin-top: 20px;
      font-size: 9px;
      color: #000;
    }
    .footer a {
      color: #000;
      text-decoration: underline;
    }
    .footer .fine-print p,
    .footer .company-info p {
      margin: 2px 0;
      line-height: 1.2;
    }
    button {
      background-color: #000 !important;
      color: #fff !important;
    }
    button:hover {
      background-color: #333 !important;
      color: #fff !important;
    }
    #contract-preview {
      display: none; /* Hidden since print opens directly */
      max-width: 210mm; /* A4 width */
      margin: 0;
      padding: 10mm; /* Minimal margins */
      background-color: #fff;
      font-size: 12px;
      line-height: 1.5;
      color: #000;
      min-height: 277mm; /* A4 height minus margins */
      box-sizing: border-box;
    }
    #contract-preview h2 {
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 16px;
    }
    #contract-preview h3 {
      font-size: 14px;
      font-weight: bold;
      margin-top: 16px;
      margin-bottom: 6px;
    }
    #contract-preview .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }
    #contract-preview .grid div {
      display: flex;
      flex-direction: column;
    }
    #contract-preview .grid label {
      font-weight: bold;
      font-size: 12px;
    }
    #contract-preview .grid span {
      color: #000;
      font-size: 12px;
    }
    #contract-preview .fine-print {
      margin-top: 16px;
      border-top: 1px solid #000;
      padding-top: 10px;
      text-align: center;
      font-size: 10px;
      color: #000;
    }
    #contract-preview .fine-print p {
      margin: 2px 0;
    }
    #contract-preview .fine-print a {
      color: #000;
      text-decoration: underline;
    }
    #contract-preview .signature {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      text-align: left;
    }
    #contract-preview .signature p {
      margin: 2px 0;
      font-size: 12px;
    }
    /* Ensure input fields have a visible outline across browsers */
    input, select, textarea {
      border: 2px solid #6B7280 !important;
      border-radius: 0.375rem;
      outline: none;
      transition: border-color 0.2s ease-in-out;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #000 !important;
      box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
    }
    input[readonly] {
      background-color: #F3F4F6;
      border-color: #D1D5DB !important;
    }
    @media print {
      body {
        background: none;
        margin: 0;
        padding: 0;
      }
      .header, .footer, #contract-form, #contract-preview button {
        display: none;
      }
      #contract-preview {
        display: block !important;
        margin: 0;
        padding: 10mm; /* Minimal margins to fill page */
        font-size: 12px;
        max-width: 210mm;
        min-height: 277mm; /* Full A4 height minus margins */
        box-sizing: border-box;
        page-break-after: always;
      }
      #contract-preview .fine-print,
      #contract-preview .signature {
        text-align: center;
      }
      @page {
        size: A4;
        margin: 10mm; /* Minimal margins */
      }
    }
  </style>
</head>
<body>
  <!-- Header with Logo and Title -->
  <div class="header">
    <img src="Peasy_Logo_ORG.png" alt="Peasy Logo" onerror="this.style.display='none';">
    <h1>Peasy Kjøpekontrakt for kjøretøy</h1>
  </div>

  <div class="container mx-auto p-6">
    <h1 class="text-2xl font-bold text-center mb-6 hidden">Peasy Kjøpekontrakt for kjøretøy</h1>

    <!-- Skjema for å fylle inn opplysninger -->
    <form id="contract-form" class="bg-white p-6 rounded-lg shadow-md mb-6">
      <h2 class="text-xl font-semibold mb-4">Fyll inn opplysninger</h2>
      
      <h3 class="text-lg font-medium mt-4">Selger (privatperson)</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Navn</label>
          <input type="text" id="selger-navn" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Adresse</label>
          <input type="text" id="selger-adresse" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Telefon</label>
          <input type="text" id="selger-telefon" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">E-post</label>
          <input type="email" id="selger-epost" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
      </div>

      <h3 class="text-lg font-medium mt-4">Kjøper (forhandler)</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Firmanavn</label>
          <input type="text" id="kjoper-firmanavn" value="Peasy (Autoringen AS)" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Organisasjonsnummer</label>
          <input type="text" id="kjoper-orgnr" value="987 327 359" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class PTEasy (Autoringen AS) | Organisasjonsnummer: 987 327 359 | Strandveien 17, 1366 Lysaker | Telefon: 24 20 19 00 | E-post: post@peasy.no | www.peasy.noock text-sm font-medium text-gray-700">Adresse</label>
          <input type="text" id="kjoper-adresse" value="Strandveien 17, 1366 Lysaker" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Telefon</label>
          <input type="text" id="kjoper-telefon" value="24 20 19 00" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">E-post</label>
          <input type="email" id="kjoper-epost" value="post@peasy.no" class="mt-1 p-2 w-full border rounded-md" readonly>
        </div>
      </div>

      <h3 class="text-lg font-medium mt-4">Kjøretøyets opplysninger</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Merke</label>
          <input type="text" id="bil-merke" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Modell</label>
          <input type="text" id="bil-modell" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Årsmodell</label>
          <input type="number" id="bil-arsmodell" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Registreringsnummer</label>
          <input type="text" id="bil-regnr" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">VIN-nummer</label>
          <input type="text" id="bil-vinnr" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Kilometerstand</label>
          <input type="number" id="bil-kilometer" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Farge</label>
          <input type="text" id="bil-farge" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Sist godkjent EU-kontroll</label>
          <input type="date" id="bil-eukontroll" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
      </div>

      <h3 class="text-lg font-medium mt-4">Kjøpesum og betalingsvilkår</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700">Kjøpesum (NOK)</label>
          <input type="number" id="kjopesum" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Kontonummer</label>
          <input type="text" id="kontonummer" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Betalingsdato</label>
          <input type="date" id="betalingsdato" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Dato for NAF/Viking-test</label>
          <input type="date" id="test-dato" class="mt-1 p-2 w-full border rounded-md" required>
        </div>
      </div>

      <button type="button" onclick="generateContract()" class="mt-6 px-4 py-2 rounded-md">Generer kontrakt</button>
    </form>

    <!-- Footer with Fine Print and Company Information -->
    <div class="footer">
      <div class="fine-print text-center">
        <p>Kjøper aksepterer kjøretøyets tilstand basert på NAF/Viking-test og fraskriver seg retten til å fremme krav mot selger etter oppgjør. Selger garanterer at kjøretøyet er fri for heftelser. Avtalen reguleres av kjøpsloven.</p>
      </div>
      <div class="company-info text-center">
        <p>Peasy (Autoringen AS) | Organisasjonsnummer: 987 327 359 | Strandveien 17, 1366 Lysaker | Telefon: 24 20 19 00 | E-post: <a href="mailto:post@peasy.no">post@peasy.no</a> | <a href="https://www.peasy.no">www.peasy.no</a></p>
      </div>
    </div>

    <!-- Forhåndsvisning av kontrakten (for PDF only) -->
    <div id="contract-preview">
      <div style="text-align: center; margin-bottom: 16px;">
        <img src="Peasy_Logo_ORG.png" alt="Peasy Logo" style="max-width: 140px; display: block; margin: 0 auto;" onerror="this.style.display='none'; this.nextSibling.style.display='block';">
        <p style="display: none; font-size: 16px; font-weight: bold;">Peasy</p>
        <h2 style="font-size: 18px; font-weight: bold; margin-top: 10px;">KJØPEKONTRAKT FOR KJØRETØY</h2>
      </div>

      <h3>Selger (privatperson)</h3>
      <div class="grid">
        <div>
          <label>Navn</label>
          <span id="preview-selger-navn"></span>
        </div>
        <div>
          <label>Adresse</label>
          <span id="preview-selger-adresse"></span>
        </div>
        <div>
          <label>Telefon</label>
          <span id="preview-selger-telefon"></span>
        </div>
        <div>
          <label>E-post</label>
          <span id="preview-selger-epost"></span>
        </div>
      </div>

      <h3>Kjøper (forhandler)</h3>
      <div class="grid">
        <div>
          <label>Firmanavn</label>
          <span id="preview-kjoper-firmanavn"></span>
        </div>
        <div>
          <label>Organisasjonsnummer</label>
          <span id="preview-kjoper-orgnr"></span>
        </div>
        <div>
          <label>Adresse</label>
          <span id="preview-kjoper-adresse"></span>
        </div>
        <div>
          <label>Telefon</label>
          <span id="preview-kjoper-telefon"></span>
        </div>
        <div>
          <label>E-post</label>
          <span id="preview-kjoper-epost"></span>
        </div>
      </div>

      <h3>Kjøretøyets opplysninger</h3>
      <div class="grid">
        <div>
          <label>Merke</label>
          <span id="preview-bil-merke"></span>
        </div>
        <div>
          <label>Modell</label>
          <span id="preview-bil-modell"></span>
        </div>
        <div>
          <label>Årsmodell</label>
          <span id="preview-bil-arsmodell"></span>
        </div>
        <div>
          <label>Registreringsnummer</label>
          <span id="preview-bil-regnr"></span>
        </div>
        <div>
          <label>VIN-nummer</label>
          <span id="preview-bil-vinnr"></span>
        </div>
        <div>
          <label>Kilometerstand</label>
          <span id="preview-bil-kilometer"></span>
        </div>
        <div>
          <label>Farge</label>
          <span id="preview-bil-farge"></span>
        </div>
        <div>
          <label>Sist godkjent EU-kontroll</label>
          <span id="preview-bil-eukontroll"></span>
        </div>
      </div>

      <h3>Kjøpesum og betalingsvilkår</h3>
      <div class="grid">
        <div>
          <label>Kjøpesum (NOK)</label>
          <span id="preview-kjopesum"></span>
        </div>
        <div>
          <label>Kontonummer</label>
          <span id="preview-kontonummer"></span>
        </div>
        <div>
          <label>Betalingsdato</label>
          <span id="preview-betalingsdato"></span>
        </div>
        <div>
          <label>Dato for NAF/Viking-test</label>
          <span id="preview-test-dato"></span>
        </div>
      </div>

      <div class="signature">
        <p><strong>Sted og dato:</strong> <span id="preview-sted-dato"></span></p>
        <p><strong>Selgers signatur:</strong> ______________________</p>
        <p><strong>Kjøpers signatur:</strong> ______________________</p>
      </div>

      <div class="fine-print">
        <p>Peasy (Autoringen AS) | Organisasjonsnummer: 987 327 359 | Strandveien 17, 1366 Lysaker | Telefon: 24 20 19 00 | E-post: <a href="mailto:post@peasy.no">post@peasy.no</a> | <a href="https://www.peasy.no">www.peasy.no</a></p>
        <p>Kjøper aksepterer kjøretøyets tilstand basert på NAF/Viking-test og fraskriver seg retten til å fremme krav mot selger etter oppgjør. Selger garanterer at kjøretøyet er fri for heftelser. Avtalen reguleres av kjøpsloven.</p>
      </div>
    </div>
  </div>

  <script>
    function generateContract() {
      const form = document.getElementById('contract-form');
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }
      // Hent verdier fra skjemaet
      document.getElementById('preview-selger-navn').textContent = document.getElementById('selger-navn').value || '________________';
      document.getElementById('preview-selger-adresse').textContent = document.getElementById('selger-adresse').value || '________________';
      document.getElementById('preview-selger-telefon').textContent = document.getElementById('selger-telefon').value || '________________';
      document.getElementById('preview-selger-epost').textContent = document.getElementById('selger-epost').value || '________________';
      document.getElementById('preview-kjoper-firmanavn').textContent = document.getElementById('kjoper-firmanavn').value;
      document.getElementById('preview-kjoper-orgnr').textContent = document.getElementById('kjoper-orgnr').value;
      document.getElementById('preview-kjoper-adresse').textContent = document.getElementById('kjoper-adresse').value;
      document.getElementById('preview-kjoper-telefon').textContent = document.getElementById('kjoper-telefon').value;
      document.getElementById('preview-kjoper-epost').textContent = document.getElementById('kjoper-epost').value;
      document.getElementById('preview-bil-merke').textContent = document.getElementById('bil-merke').value || '________________';
      document.getElementById('preview-bil-modell').textContent = document.getElementById('bil-modell').value || '________________';
      document.getElementById('preview-bil-arsmodell').textContent = document.getElementById('bil-arsmodell').value || '________________';
      document.getElementById('preview-bil-regnr').textContent = document.getElementById('bil-regnr').value || '________________';
      document.getElementById('preview-bil-vinnr').textContent = document.getElementById('bil-vinnr').value || '________________';
      document.getElementById('preview-bil-kilometer').textContent = document.getElementById('bil-kilometer').value || '________________';
      document.getElementById('preview-bil-farge').textContent = document.getElementById('bil-farge').value || '________________';
      document.getElementById('preview-bil-eukontroll').textContent = document.getElementById('bil-eukontroll').value || '________________';
      document.getElementById('preview-kjopesum').textContent = document.getElementById('kjopesum').value || '________________';
      document.getElementById('preview-kontonummer').textContent = document.getElementById('kontonummer').value || '________________';
      document.getElementById('preview-betalingsdato').textContent = document.getElementById('betalingsdato').value || '________________';
      document.getElementById('preview-test-dato').textContent = document.getElementById('test-dato').value || '________________';
      // Pre-fill Sted og dato with today's date
      const today = new Date().toLocaleDateString('no-NO', { day: '2-digit', month: '2-digit', year: 'numeric' }).replace(/\./g, '/');
      document.getElementById('preview-sted-dato').textContent = today;

      // Open print dialog directly
      window.print();
    }
  </script>
</body>
</html>
